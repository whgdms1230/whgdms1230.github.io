<!DOCTYPE html> <html lang="en" dir="auto"> <head><meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, user-scalable=no"> <meta name="description" content="Navigation Tunning Guide 0. 참고 문헌 - Navigation Tunning Guide 위키 페이지 본 내용은 Kaiyu Zheng의 ROS Navigation Tunning Guide를 기반으로 작성하였다. 1. Velocity and Ac..."> <meta name="revised" content="ef7ab03613f0c56eba6491d90ce3099153588040"> <meta name="author" content="PaulKim"> <meta name="generator" content="jekyll-rtd-theme v2.0.10"><meta name="theme-color" content="#2980b9"> <title>Navigation Tunning Guide · ROBOT NOTE</title> <meta name="twitter:title" content="Navigation Tunning Guide · ROBOT NOTE"> <meta name="twitter:description" content="Navigation Tunning Guide 0. 참고 문헌 - Navigation Tunning Guide 위키 페이지 본 내용은 Kaiyu Zheng의 ROS Navigation Tunning Guide를 기반으로 작성하였다. 1. Velocity and Ac..."> <meta name="twitter:card" content="summary"> <meta name="twitter:site" content="@PaulKim"> <meta name="twitter:url" content="http://localhost:4000/0001ROS1/0003Advanced/0001Navigation/02NavigationStackSetup/0009NavigationTunning.html"> <meta name="twitter:creator" content="@jekyll-rtd-theme v2.0.10"> <meta property="og:title" content="Navigation Tunning Guide · ROBOT NOTE"> <meta property="og:description" content="Navigation Tunning Guide 0. 참고 문헌 - Navigation Tunning Guide 위키 페이지 본 내용은 Kaiyu Zheng의 ROS Navigation Tunning Guide를 기반으로 작성하였다. 1. Velocity and Ac..."> <meta property="og:locale" content="en"> <meta property="og:url" content="http://localhost:4000/0001ROS1/0003Advanced/0001Navigation/02NavigationStackSetup/0009NavigationTunning.html"> <meta property="og:type" content="article"> <meta property="article:author" content="PaulKim"> <meta property="article:published_time" content="2021-10-11T13:52:56+09:00"> <meta property="article:modified_time" content="2021-12-12T21:40:12+09:00"> <script type="application/ld+json"> { "@context": "https://schema.org", "@type": "Article", "mainEntityOfPage": { "@type": "WebPage", "@id": "http://localhost:4000/0001ROS1/0003Advanced/0001Navigation/02NavigationStackSetup/0009NavigationTunning.html" }, "headline": "Navigation Tunning Guide · ROBOT NOTE", "image": [], "author": { "@type": "Person", "name": "PaulKim" }, "datePublished": "2021-10-11T13:52:56+09:00", "dateModified": "2021-12-12T21:40:12+09:00", "publisher": { "@type": "User", "name": "PaulKim", "logo": { "@type": "ImageObject", "url": "https://avatars.githubusercontent.com/u/42468354?v=4" } }, "description": "Navigation Tunning Guide 0. 참고 문헌 - Navigation Tunning Guide 위키 페이지 본 내용은 Kaiyu Zheng의 ROS Navigation Tunning Guide를 기반으로 작성하였다. 1. Velocity and Ac..." } </script> <link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="prev" href="http://localhost:4000/0001ROS1/0003Advanced/0001Navigation/02NavigationStackSetup/0008MapServer.html"><link rel="canonical" href="http://localhost:4000/0001ROS1/0003Advanced/0001Navigation/02NavigationStackSetup/0009NavigationTunning.html"><link rel="icon" type="image/svg+xml" href="/assets/images/favicon.svg"><link rel="icon" type="image/png" href="/assets/images/favicon-16x16.png" sizes="16x16"> <link rel="icon" type="image/png" href="/assets/images/favicon-32x32.png" sizes="32x32"> <link rel="icon" type="image/png" href="/assets/images/favicon-96x96.png" sizes="96x96"><link rel="mask-icon" href="/assets/images/favicon.svg" color="#2980b9"><link rel="apple-touch-icon" href="/assets/images/apple-touch-icon-300x300.jpg"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/rundocs/jekyll-rtd-theme@2.0.10/assets/css/theme.min.css"><script> window.ui = { title: "ROBOT NOTE", baseurl: "", i18n: { search_results: "Search Results", search_results_found: "Search finished, found # page(s) matching the search query.", search_results_not_found: "Your search did not match any documents, please make sure that all characters are spelled correctly!" } }; </script> </head> <body class="container"><div class="sidebar-wrap overflow-hidden"> <div class="sidebar height-full overflow-y-scroll overflow-x-hidden"> <div class="header d-flex flex-column p-3 text-center"> <div class="title pb-1"> <a class="h4 no-underline py-1 px-2 rounded-1" href="/" title="로봇 개발에 필요한 자료들을 모아놓은 노트"> <i class="fa fa-home"></i> ROBOT NOTE </a> </div> <span class="version"></span> <form class="search pt-2" action="/search.html" method="get" autocomplete="off"> <input class="form-control input-block input-sm" type="text" name="q" placeholder="Search docs..."> </form> </div> <div class="toctree py-2" data-spy="affix" role="navigation" aria-label="main navigation"> <ul> </ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/0001ROS1/"> ROS 1.0 </a><ul> <li class="toc level-1"> <a class="d-flex flex-items-baseline" href="/0001ROS1/0001Basic/"> BASIC </a><ul> <li class="toc level-2 " data-sort="1" data-level="2"> <a class="d-flex flex-items-baseline " href="/0001ROS1/0001Basic/0001Install.html">1. Install</a> </li> <li class="toc level-2 " data-sort="2" data-level="2"> <a class="d-flex flex-items-baseline " href="/0001ROS1/0001Basic/0002Catkin.html">2. Catkin</a> </li> <li class="toc level-2 " data-sort="3" data-level="2"> <a class="d-flex flex-items-baseline " href="/0001ROS1/0001Basic/0003CMakeList.html">3. CMakeLists.txt</a> </li> <li class="toc level-2 " data-sort="4" data-level="2"> <a class="d-flex flex-items-baseline " href="/0001ROS1/0001Basic/0004Package-xml.html">4. Package.xml</a> </li> <li class="toc level-2 " data-sort="5" data-level="2"> <a class="d-flex flex-items-baseline " href="/0001ROS1/0001Basic/0005Launch-System.html">5. Launch System</a> </li></ul> </li> <li class="toc level-1"> <a class="d-flex flex-items-baseline" href="/0001ROS1/0002Intermediate/"> INTERMEDIATE </a><ul> <li class="toc level-2 " data-sort="1" data-level="2"> <a class="d-flex flex-items-baseline " href="/0001ROS1/0002Intermediate/0001actionlib.html">1. actionlib</a> </li> <li class="toc level-2 " data-sort="2" data-level="2"> <a class="d-flex flex-items-baseline " href="/0001ROS1/0002Intermediate/0002actionlibBeginnerTutorials_cpp.html">2. actionlib beginner tutorials(c++)</a> </li> <li class="toc level-2 " data-sort="3" data-level="2"> <a class="d-flex flex-items-baseline " href="/0001ROS1/0002Intermediate/0003actionlibBeginnerTutorials_python.html">3. actionlib beginner tutorials(python)</a> </li> <li class="toc level-2 " data-sort="4" data-level="2"> <a class="d-flex flex-items-baseline " href="/0001ROS1/0002Intermediate/0004actionlibIntermediateTutorials.html">4. actionlib intermediate tutorials</a> </li> <li class="toc level-2 " data-sort="5" data-level="2"> <a class="d-flex flex-items-baseline " href="/0001ROS1/0002Intermediate/0005actionlibAdvancedTutorials.html">5. actionlib advanced tutorials</a> </li> <li class="toc level-2 " data-sort="6" data-level="2"> <a class="d-flex flex-items-baseline " href="/0001ROS1/0002Intermediate/0006DynamicReconfigure.html">6. dynamic reconfigure</a> </li></ul> </li> <li class="toc level-1"> <a class="d-flex flex-items-baseline" href="/0001ROS1/0003Advanced/"> ADVANCED </a><ul> <li class="toc level-2"> <a class="d-flex flex-items-baseline" href="/0001ROS1/0003Advanced/0001Navigation/"> NAVIGATION </a><ul> <li class="toc level-3"> <a class="d-flex flex-items-baseline" href="/0001ROS1/0003Advanced/0001Navigation/01RobotSetup/"> RobotSetup </a><ul> <li class="toc level-4 " data-sort="1" data-level="4"> <a class="d-flex flex-items-baseline " href="/0001ROS1/0003Advanced/0001Navigation/01RobotSetup/0001TF.html">1. TF</a> </li> <li class="toc level-4 " data-sort="2" data-level="4"> <a class="d-flex flex-items-baseline " href="/0001ROS1/0003Advanced/0001Navigation/01RobotSetup/0002SensorStream.html">2. SensorStream</a> </li> <li class="toc level-4 " data-sort="3" data-level="4"> <a class="d-flex flex-items-baseline " href="/0001ROS1/0003Advanced/0001Navigation/01RobotSetup/0003Odometry.html">3. Odometry</a> </li> <li class="toc level-4 " data-sort="4" data-level="4"> <a class="d-flex flex-items-baseline " href="/0001ROS1/0003Advanced/0001Navigation/01RobotSetup/0004BaseController.html">4. BaseController</a> </li> <li class="toc level-4 " data-sort="5" data-level="4"> <a class="d-flex flex-items-baseline " href="/0001ROS1/0003Advanced/0001Navigation/01RobotSetup/0005Mapping.html">5. Mapping</a> </li></ul> </li> <li class="toc level-3"> <a class="d-flex flex-items-baseline" href="/0001ROS1/0003Advanced/0001Navigation/02NavigationStackSetup/"> NavigationStackSetup </a><ul> <li class="toc level-4 " data-sort="1" data-level="4"> <a class="d-flex flex-items-baseline " href="/0001ROS1/0003Advanced/0001Navigation/02NavigationStackSetup/0001NavCore.html">1. nav_core</a> </li> <li class="toc level-4 " data-sort="2" data-level="4"> <a class="d-flex flex-items-baseline " href="/0001ROS1/0003Advanced/0001Navigation/02NavigationStackSetup/0002MoveBase.html">2. move_base</a> </li> <li class="toc level-4 " data-sort="3" data-level="4"> <a class="d-flex flex-items-baseline " href="/0001ROS1/0003Advanced/0001Navigation/02NavigationStackSetup/0003DWALocalPlanner.html">3. dwa_local_planner</a> </li> <li class="toc level-4 " data-sort="4" data-level="4"> <a class="d-flex flex-items-baseline " href="/0001ROS1/0003Advanced/0001Navigation/02NavigationStackSetup/0004GlobalPlanner.html">4. global_planner</a> </li> <li class="toc level-4 " data-sort="5" data-level="4"> <a class="d-flex flex-items-baseline " href="/0001ROS1/0003Advanced/0001Navigation/02NavigationStackSetup/0005DefaultRecoveryBehavior.html">5. DefaultRecoveryBehavior</a> </li> <li class="toc level-4 " data-sort="6" data-level="4"> <a class="d-flex flex-items-baseline " href="/0001ROS1/0003Advanced/0001Navigation/02NavigationStackSetup/0006Costmap.html">6. Costmap</a> </li> <li class="toc level-4 " data-sort="7" data-level="4"> <a class="d-flex flex-items-baseline " href="/0001ROS1/0003Advanced/0001Navigation/02NavigationStackSetup/0007AMCL.html">7. amcl</a> </li> <li class="toc level-4 " data-sort="8" data-level="4"> <a class="d-flex flex-items-baseline " href="/0001ROS1/0003Advanced/0001Navigation/02NavigationStackSetup/0008MapServer.html">8. map_server</a> </li> <li class="toc level-4 current" data-sort="9" data-level="4"> <a class="d-flex flex-items-baseline current" href="/0001ROS1/0003Advanced/0001Navigation/02NavigationStackSetup/0009NavigationTunning.html">9. Navigation Tunning Guide</a> </li></ul> </li> <li class="toc level-3"> <a class="d-flex flex-items-baseline" href="/0001ROS1/0003Advanced/0001Navigation/03MoveBaseFlex/"> MoveBaseFlex </a><ul> </ul> </li> <li class="toc level-3"> <a class="d-flex flex-items-baseline" href="/0001ROS1/0003Advanced/0001Navigation/04CustomPlanner/"> CustomPlanner </a><ul> </ul> </li></ul> </li> <li class="toc level-2"> <a class="d-flex flex-items-baseline" href="/0001ROS1/0003Advanced/0002FlexBe/"> FlexBe </a><ul> <li class="toc level-3 " data-sort="1" data-level="3"> <a class="d-flex flex-items-baseline " href="/0001ROS1/0003Advanced/0002FlexBe/0001Installation.html">1. Installation</a> </li> <li class="toc level-3 " data-sort="2" data-level="3"> <a class="d-flex flex-items-baseline " href="/0001ROS1/0003Advanced/0002FlexBe/0002Tutorials.html">2. FlexBe Tutorials</a> </li> <li class="toc level-3 " data-sort="3" data-level="3"> <a class="d-flex flex-items-baseline " href="/0001ROS1/0003Advanced/0002FlexBe/0003DevelopingBasicStates.html">3. Developing Basic States</a> </li> <li class="toc level-3 " data-sort="4" data-level="3"> <a class="d-flex flex-items-baseline " href="/0001ROS1/0003Advanced/0002FlexBe/0004RunningBehaviors.html">4. Running Behaviors Without Operator</a> </li> <li class="toc level-3 " data-sort="5" data-level="3"> <a class="d-flex flex-items-baseline " href="/0001ROS1/0003Advanced/0002FlexBe/0005FlexBe_MBF_Example.html">5. FlexBe Example for MoveBaseFlex</a> </li></ul> </li></ul> </li></ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/0002ROS2/"> ROS 2.0 </a><ul> <li class="toc level-1"> <a class="d-flex flex-items-baseline" href="/0002ROS2/Basic/"> BASIC </a><ul> <li class="toc level-2 " data-sort="1" data-level="2"> <a class="d-flex flex-items-baseline " href="/0002ROS2/Basic/0001Install.html">1. Install</a> </li> <li class="toc level-2 " data-sort="2" data-level="2"> <a class="d-flex flex-items-baseline " href="/0002ROS2/Basic/0002Colcon.html">2. Colcon</a> </li> <li class="toc level-2 " data-sort="3" data-level="2"> <a class="d-flex flex-items-baseline " href="/0002ROS2/Basic/0003CMakeList.html">3. CMakeLists.txt</a> </li> <li class="toc level-2 " data-sort="4" data-level="2"> <a class="d-flex flex-items-baseline " href="/0002ROS2/Basic/0004Package-xml.html">4. Package.xml</a> </li> <li class="toc level-2 " data-sort="5" data-level="2"> <a class="d-flex flex-items-baseline " href="/0002ROS2/Basic/0005Launch-System.html">5. Launch System</a> </li> <li class="toc level-2 " data-sort="6" data-level="2"> <a class="d-flex flex-items-baseline " href="/0002ROS2/Basic/0006Package.html">6. ROS 2 Package Structure</a> </li></ul> </li></ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/0003ROBOTICS/"> ROBOTICS </a><ul> </ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/0004Github/"> GITHUB </a><ul> </ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/0005Linux/"> Linux </a><ul> <li class="toc level-1 " data-sort="1" data-level="1"> <a class="d-flex flex-items-baseline " href="/0005Linux/0001Command.html">1. Command</a> </li> <li class="toc level-1 " data-sort="2" data-level="1"> <a class="d-flex flex-items-baseline " href="/0005Linux/0002ShellScript.html">2. ShellScript&amp;bashrc</a> </li></ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/0006C++/"> C++ </a><ul> <li class="toc level-1"> <a class="d-flex flex-items-baseline" href="/0006C++/Professional_C++/"> Professional C++ </a><ul> <li class="toc level-2"> <a class="d-flex flex-items-baseline" href="/0006C++/Professional_C++/Part1/"> Part 1. Introduction to Professional C++ </a><ul> <li class="toc level-3"> <a class="d-flex flex-items-baseline" href="/0006C++/Professional_C++/Part1/Chapter1/"> Chapter 1. A Crash Course in C++ and the Standard Library </a><ul> <li class="toc level-4 " data-sort="1" data-level="4"> <a class="d-flex flex-items-baseline " href="/0006C++/Professional_C++/Part1/Chapter1/0001If-initializer.html">1. If Initializer</a> </li> <li class="toc level-4 " data-sort="2" data-level="4"> <a class="d-flex flex-items-baseline " href="/0006C++/Professional_C++/Part1/Chapter1/0002Switch-initializer.html">2. Switch Initializer</a> </li> <li class="toc level-4 " data-sort="3" data-level="4"> <a class="d-flex flex-items-baseline " href="/0006C++/Professional_C++/Part1/Chapter1/0003vector.html">3. vector 기초</a> </li> <li class="toc level-4 " data-sort="4" data-level="4"> <a class="d-flex flex-items-baseline " href="/0006C++/Professional_C++/Part1/Chapter1/0004Initializer-list.html">4. initializer_list</a> </li> <li class="toc level-4 " data-sort="5" data-level="4"> <a class="d-flex flex-items-baseline " href="/0006C++/Professional_C++/Part1/Chapter1/0005Range-based-for-statement.html">5. 범위 기반 for 문</a> </li> <li class="toc level-4 " data-sort="6" data-level="4"> <a class="d-flex flex-items-baseline " href="/0006C++/Professional_C++/Part1/Chapter1/0006Smart-pointer-basic.html">6. 스마트 포인터 기본</a> </li> <li class="toc level-4 " data-sort="7" data-level="4"> <a class="d-flex flex-items-baseline " href="/0006C++/Professional_C++/Part1/Chapter1/0007Exception.html">7. Exception</a> </li> <li class="toc level-4 " data-sort="8" data-level="4"> <a class="d-flex flex-items-baseline " href="/0006C++/Professional_C++/Part1/Chapter1/0008Type-inference.html">8. 타입 추론</a> </li> <li class="toc level-4 " data-sort="9" data-level="4"> <a class="d-flex flex-items-baseline " href="/0006C++/Professional_C++/Part1/Chapter1/0009Class_definition.html">9. Class 정의</a> </li> <li class="toc level-4 " data-sort="10" data-level="4"> <a class="d-flex flex-items-baseline " href="/0006C++/Professional_C++/Part1/Chapter1/0010Uniform-initialization.html">10. 유니폼 이니셜라이저</a> </li></ul> </li> <li class="toc level-3"> <a class="d-flex flex-items-baseline" href="/0006C++/Professional_C++/Part1/Chapter2/"> Chapter 2. Working with Strings and String Views </a><ul> <li class="toc level-4 " data-sort="1" data-level="4"> <a class="d-flex flex-items-baseline " href="/0006C++/Professional_C++/Part1/Chapter2/0001C_string.html">1. C style String</a> </li> <li class="toc level-4 " data-sort="2" data-level="4"> <a class="d-flex flex-items-baseline " href="/0006C++/Professional_C++/Part1/Chapter2/0002StringLiteral.html">2. String Literal</a> </li></ul> </li></ul> </li></ul> </li></ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/0007Python/"> Python </a><ul> </ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/0008Algorithm/"> Algorithm </a><ul> </ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/0009Tools/"> Tools </a><ul> <li class="toc level-1"> <a class="d-flex flex-items-baseline" href="/0009Tools/0001CycloneDDS/"> CycloneDDS </a><ul> <li class="toc level-2 " data-sort="1" data-level="2"> <a class="d-flex flex-items-baseline " href="/0009Tools/0001CycloneDDS/0001Install.html">1. Install</a> </li> <li class="toc level-2 " data-sort="2" data-level="2"> <a class="d-flex flex-items-baseline " href="/0009Tools/0001CycloneDDS/0002Tutorials.html">2. Tutorials</a> </li> <li class="toc level-2 " data-sort="3" data-level="2"> <a class="d-flex flex-items-baseline " href="/0009Tools/0001CycloneDDS/0003IDLC.html">3. IDLC</a> </li> <li class="toc level-2 " data-sort="4" data-level="2"> <a class="d-flex flex-items-baseline " href="/0009Tools/0001CycloneDDS/0004ROSCycloneDDS.html">4. ROS-CycloneDDS</a> </li></ul> </li></ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/0010ToDo/"> To Do </a><ul> </ul> </div> </div> </div> <div class="content-wrap"> <div class="header d-flex flex-justify-between p-2 hide-lg hide-xl" aria-label="top navigation"> <button id="toggle" aria-label="Toggle menu" class="btn-octicon p-2 m-0 text-white" type="button"> <i class="fa fa-bars"></i> </button> <div class="title flex-1 d-flex flex-justify-center"> <a class="h4 no-underline py-1 px-2 rounded-1" href="/">ROBOT NOTE</a> </div> </div> <div class="content p-3 p-sm-5"> <div class="navigation-top d-flex flex-justify-between"> <ul class="breadcrumb" role="navigation" aria-label="breadcrumbs navigation"> <li class="breadcrumb-item"> <a class="no-underline" href="/" title="/"> <i class="fa fa-home"></i> </a> </li><li class="breadcrumb-item" ><a href="/0001ROS1/">0001ROS1</a></li><li class="breadcrumb-item" ><a href="/0001ROS1/0003Advanced/">0003Advanced</a></li><li class="breadcrumb-item" ><a href="/0001ROS1/0003Advanced/0001Navigation/">0001Navigation</a></li><li class="breadcrumb-item" ><a href="/0001ROS1/0003Advanced/0001Navigation/02NavigationStackSetup/">02NavigationStackSetup</a></li><li class="breadcrumb-item" aria-current="page">0009NavigationTunning.md</li></ul> <a class="edit" href="https://github.com/whgdms1230/whgdms1230.github.io/edit/gh-pages/0001ROS1/0003Advanced/0001Navigation/02NavigationStackSetup/0009NavigationTunning.md" title="Edit on GitHub" rel="noreferrer" target="_blank"> <i class="fa fa-edit"></i> </a> </div> <hr> <div role="main" itemscope="itemscope" itemtype="https://schema.org/Article"> <div class="markdown-body" itemprop="articleBody"> <h1 id="navigation-tunning-guide">Navigation Tunning Guide</h1> <h2 id="0-참고-문헌">0. 참고 문헌</h2> <p><em>- <a href="http://wiki.ros.org/navigation/Tutorials/Navigation%20Tuning%20Guide">Navigation Tunning Guide 위키 페이지</a></em></p> <p>본 내용은 Kaiyu Zheng의 <a href="https://kaiyuzheng.me/documents/navguide.pdf">ROS Navigation Tunning Guide</a>를 기반으로 작성하였다.</p> <h2 id="1-velocity-and-acceleration">1. Velocity and Acceleration</h2> <p>먼저, ROS Navigation에서 로봇의 주행의 실질적인 데이터 형태인 속도와 가속도의 설정에 대한 내용이다. local planner에서 받는 토픽인 <code class="language-plaintext highlighter-rouge notranslate">odom</code>과 그 결과로 나오는 토픽인 <code class="language-plaintext highlighter-rouge notranslate">cmd_vel</code>은 모두 속도 및 가속도 기반의 토픽이기 때문이다.</p> <h3 id="11-maximum-velocity의-선정">1.1 Maximum Velocity의 선정</h3> <p>실제 환경에서 로봇이 직선운동 및 제자리에서 회전운동 시의 최대 속도를 기준으로 선정하며, Safety를 위해서 실제 최대 속도보다 약간 낮은 값으로 parameter를 선정한다.</p> <h3 id="12-maximum-accleceration의-선정">1.2 Maximum Accleceration의 선정</h3> <p>최대 가속도 측정하기 위해, 속도가 0에서 최대 속도까지 도달하는데 시간을 기준으로 선정한다.</p> <h3 id="13-minimum-value-선정">1.3 Minimum Value 선정</h3> <p>DWA 기준으로 설명하면, 선속도의 경우 Minimum velocity이 음수일 경우 후진을 하며, 0일 경우 후진을 하지 않는다고 볼 수 있다. 회전 속도의 경우 절댓값을 취하기 때문에 최소 회전 속도는 음수로 지정하지 않아도 된다.</p> <h3 id="14-x-y-방향-velocity">1.4 x, y 방향 Velocity</h3> <p>x 및 y 방향의 선속도를 나타내며, x 방향은 로봇의 주행방향이고, y 방향은 로봇 주행 방향에서 왼쪽으로 90도 방향이다. 일반적으로 differential wheeled robot의 경우 y 방향의 속도값은 사용하지 않는다.</p> <h2 id="2-global-planner">2. Global Planner</h2> <h3 id="21-global-planner의-선정">2.1 Global Planner의 선정</h3> <p>move_base에서는 3가지 타입의 Global Planner를 제공한다.</p> <ul> <li>carrot_planner</li> <li>navfn</li> <li>global_planner</li> </ul> <p>이 중에서 이번 장에서는 global_planner에 대해 서술한다.</p> <h3 id="22-global_planner-parameter">2.2 global_planner parameter</h3> <p>global_planner는 파라미터 선정을 통해 Dijkstra, A*, Standard Behavior, Grid Path 와 같은 planning 방법을 선택할 수 있다. 추가적으로 경로 생성 시 cost를 계산에 사용되는 parameter로, <code class="language-plaintext highlighter-rouge notranslate">cost_factor</code>, <code class="language-plaintext highlighter-rouge notranslate">neutral_cost</code>, <code class="language-plaintext highlighter-rouge notranslate">lethal_cost</code>가 있다. 다음은 cost를 계산하는 식으로, <code class="language-plaintext highlighter-rouge notranslate">costmap_cost_value</code>는 0에서 252로 나타나는 costmap의 cost 값이다.</p> <div class="language-plaintext highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>cost = COST_NEUTRAL + COST_FACTOR * costmap_cost_value
</code></pre>  </div></div> <p><code class="language-plaintext highlighter-rouge notranslate">cost_factor</code>, <code class="language-plaintext highlighter-rouge notranslate">neutral_cost</code>가 너무 낮거나 높으면 경로 생성의 수준이 낮아지므로, 적당한 수준으로 설정해야 한다. <code class="language-plaintext highlighter-rouge notranslate">lethal_cost</code>의 값이 낮게 설정할 경우 feasible한 경로를 찾더라도, 경로 생성이 되지 않을 수 있으므로 주의해야 한다.</p> <h2 id="3-local-planner">3. Local Planner</h2> <h3 id="31-dynamic-window-approachdwa">3.1 Dynamic Window Approach(DWA)</h3> <p>DWA의 동작 단계를 다음과 같이 정의할 수 있다.</p> <ol> <li>로봇의 제어 공간 내에서 속도(dx, dy, dtheta)에 대한 샘플을 취한다.</li> <li>샘플로 선정한 각각의 속도에 대해서 시뮬레이션을 한다.</li> <li>각 샘플에 대한 시뮬레이션을 통해 샘플에 대한 점수를 부여한다.</li> <li>가장 높은 점수를 받은 궤적을 선정한다.</li> <li>위 과정을 목적지에 도착할 때까지 계속 반복한다.</li> </ol> <p>위의 동작을 수행하기 위해 DWA를 사용하는 데 있어 설정해야 할 parameter들에 대해서 정리한다.</p> <h3 id="311-forward-simulation">3.1.1 Forward Simulation</h3> <p>local planner가 속도 샘플을 통해 simulation 하는 과정에 필요한 parameter들을 정리한다. <code class="language-plaintext highlighter-rouge notranslate">sim_time</code>은 simulation 시간을 말하며, <code class="language-plaintext highlighter-rouge notranslate">sim_time</code>이 낮을 경우에는 simulation 과정이 짧으므로 좁은공간을 지나는 경우에 성능이 떨어질 수 있다. 반면 높게 설정되는 경우 simulation을 통해 생성되는 경로가 유연하지 않아 좁은 공간에서 충돌을 회피하거나 경로를 재생성 하는데 좋지 않은 영향을 줄 수 있다.</p> <p>다음으로 <code class="language-plaintext highlighter-rouge notranslate">vx_sample</code>, <code class="language-plaintext highlighter-rouge notranslate">vy_sample</code>, <code class="language-plaintext highlighter-rouge notranslate">vth_sample</code>은 각 방향의 sample 갯수를 설정하는 parameter로 sample의 갯수는 많으면 좋지만 computing power에 따라 적절하게 선정해야 한다.</p> <p><code class="language-plaintext highlighter-rouge notranslate">sim_granularity</code>는 경로의 점 사이의 간격 크기를 설정한다. 이는 경로의 각 점이 장애물과 교차하는지 여부를 판단하며, 값이 작을 수록 많은 수의 검사가 필요하므로 이도 computing power에 따라 적절하게 선정해야 한다.</p> <h3 id="312-trajectory-scoring">3.1.2 Trajectory Scoring</h3> <p>simulation을 통해서 여러 개의 경로 중 가장 점수가 높은 경로를 선택하게 되는데, 경로의 점수를 부여하는 식은 다음과 같다.</p> <div class="language-plaintext highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>cost
= path_distance_bias*(distance to path from the endpoint of the trajectory)
+ goal_distance_bias*(distance to local goal from the endpoint of the trajectory)
+ occdist_scale*(maximum obstacle cost along the trajectory in obstacle cost(0-254))
</code></pre>  </div></div> <p>따라서 <code class="language-plaintext highlighter-rouge notranslate">path_distance_bias</code>, <code class="language-plaintext highlighter-rouge notranslate">goal_distance_bias</code>, <code class="language-plaintext highlighter-rouge notranslate">occdist_scale</code>을 어떻게 선정하는가에 따라 다르게 동작하게 된다. <code class="language-plaintext highlighter-rouge notranslate">path_distance_bias</code>는 값이 높을 수록 global_planner에 의해 생성된 경로에서 벗어나지 않게 local planer을 하게 한다. <code class="language-plaintext highlighter-rouge notranslate">goal_distance_bias</code>는 경로에 상관 없이 local goal에 다가갈 수 있도록 한다. <code class="language-plaintext highlighter-rouge notranslate">occdist_scale</code>은 장애물을 피하기 위한 동작 수준을 결정한다.</p> <h3 id="313-goal-distance-tolerance">3.1.3 Goal Distance Tolerance</h3> <p>해당 파라미터들은 목적지에 도착했을 때 도착 여부에 대한 판단 기준을 내리는 파라미터들이다. <code class="language-plaintext highlighter-rouge notranslate">yaw_goal_tolerance</code>와 <code class="language-plaintext highlighter-rouge notranslate">xy_goal_tolerance</code>는 yaw 방향과 x,y 방향에 대해 오차 범위를 설정하는 파라미터이고, <code class="language-plaintext highlighter-rouge notranslate">latch_xy_goal_tolerance</code>는 true로 설정이 된다면 목표 허용오차를 잠그게 되는 파라미터로, 목적지에 도착해서도 허용오차가 없기 때문에 제자리에서 계속 회전하게 된다. 따라서 일반적으로 false로 사용한다.</p> <h3 id="314-oscillation-reset">3.1.4 Oscillation Reset</h3> <p>만약 local planner가 양 방향으로 진동하는 경로를 만들게 되면, 진동하는 수준에 따라 recovery behavior로 넘어가게 된다. <code class="language-plaintext highlighter-rouge notranslate">oscillation_reset_dist</code>는 그 진동하는 수준에 대해 설정하는 파라미터이다.</p> <h2 id="4-costmap">4. Costmap</h2> <p>costmap은 크게 <code class="language-plaintext highlighter-rouge notranslate">static map layer</code>, <code class="language-plaintext highlighter-rouge notranslate">obstacle map layer</code>, <code class="language-plaintext highlighter-rouge notranslate">inflation layer</code>로 나뉜다. <code class="language-plaintext highlighter-rouge notranslate">static map layer</code>는 저장되어 있는 맵 기반으로 형성되는 맵이고, <code class="language-plaintext highlighter-rouge notranslate">obstacle map layer</code>는 장애물에 의해 동적으로 생기는 맵이다. 이 때, laser와 같은 2D 데이터를 이용해 생성될 수도 있고, camera를 이용해 3D 데이터를 이용한 <code class="language-plaintext highlighter-rouge notranslate">voxel layer</code>를 생성할 수도 있다. <code class="language-plaintext highlighter-rouge notranslate">inflation layer</code>는 2D 맵 상의 장애물에 cost를 부여하는 맵이다. 이 <code class="language-plaintext highlighter-rouge notranslate">inflation layer</code>에 의해 생성되는 cost는 global costmap에서는 맵 기반으로 생성이 되며, local costmap에서는 로봇의 센서를 이용하 실시간으로 생성이 된다.</p> <h3 id="41-footprint">4.1 footprint</h3> <p><code class="language-plaintext highlighter-rouge notranslate">footprint</code>는 로봇의 윤곽선을 나타내는 것으로, 장애물과 접촉 여부를 판단하기 위해서 사용된다. <code class="language-plaintext highlighter-rouge notranslate">footprint</code> 설정은 x, y 좌표의 list로 설정할 수 있다. 일반적으로 로봇의 외형보다 더 크게 설정해야 장애물에 부딪히지 않고 안전하게 사용할 수 있다.</p> <h3 id="42-inflation">4.2 inflation</h3> <p>inflation layer는 0에서 255의 cost를 map의 cell 상에 부여한다. <code class="language-plaintext highlighter-rouge notranslate">inflation_radius</code>와 <code class="language-plaintext highlighter-rouge notranslate">cost_scaling_factor</code> 파라미터에 의해 inflation layer가 설정된다. <code class="language-plaintext highlighter-rouge notranslate">inflation_radius</code>는 장애물로부터 얼마나 먼 거리까지 cost를 부여할 것인가를 설정하며, <code class="language-plaintext highlighter-rouge notranslate">cost_scaling_factor</code>는 셀의 cost를 계산하는데 사용하는 factor이며, 높은 값을 선정하면 장애물에 가까울수록 가파르게 cost가 증가하게 된다.</p> <h3 id="43-costmap-resolution">4.3 costmap resolution</h3> <p><code class="language-plaintext highlighter-rouge notranslate">resolution</code> 파라미터는 맵핑한 지도의 resolution 수준과 동일하게 설정하면 된다. 만약 resolution이 낮게 설정이 된다면 좁은 공간에서 장애물의 크기가 크게 설정되어 지나갈 수 없다고 판단할 수도 있다.</p> <h3 id="44-obstacle-layer-and-voxel-layer">4.4 obstacle layer and voxel layer</h3> <p>두 개의 layer는 장애물에 대한 코스트를 나타내기 위해 사용된다. 둘의 차이 점은 각각 2d와 3d로 표현된다는 점이다. –&gt; voxel layer에 대한 내용은 추후 추가</p> <h2 id="5-adaptive-monte-carlo-localizationamcl">5. Adaptive Monte Carlo Localization(AMCL)</h2> <p>AMCL은 ROS에서 로봇의 localization을 위해 제공되는 패키지이다.</p> <p>laser scanner model로 부터 받은 센서 데이터와 계산된 odom 데이터를 이용한 localization을 위해서는 적절한 파라미터들의 수정이 필요하다. 그러나 파라미터의 선정이 잘못된다면, 로봇의 위치가 부정확하거나, 발산하는 경우가 발생하니 주의해야 한다.</p> </div> </div> <div class="navigation-bottom d-flex flex-justify-between py-3" role="navigation" aria-label="footer navigation"> <div class="prev"><a href="/0001ROS1/0003Advanced/0001Navigation/02NavigationStackSetup/0008MapServer.html" class="btn" title="map_server" accesskey="p" rel="prev"> <i class="fa fa-arrow-circle-left"></i> Previous </a></div> <div class="next"></div> </div><hr> <div class="copyright text-center text-gray" role="contentinfo"> <i class="fa fa-copyright"></i> <span class="time">2021,</span> <a class="text-gray" href="https://github.com/whgdms1230" rel="noreferrer" target="_blank">PaulKim</a> Revision <a class="text-gray" href="https://github.com/whgdms1230/whgdms1230.github.io/commit/ef7ab03613f0c56eba6491d90ce3099153588040" title="ef7ab03613f0c56eba6491d90ce3099153588040" rel="noreferrer" target="_blank">ef7ab03</a> <br> <div class="generator"> Built with <a href="https://pages.github.com" rel="noreferrer" target="_blank" title="github-pages v209">GitHub Pages</a> using a <a href="https://github.com/rundocs/jekyll-rtd-theme" rel="noreferrer" target="_blank" title="jekyll-rtd-theme v2.0.10">theme</a> provided by <a href="https://rundocs.io" rel="noreferrer" target="_blank">RunDocs</a>. </div> </div> </div> </div> <div class="addons-wrap d-flex flex-column overflow-y-auto"> <div class="status d-flex flex-justify-between p-2"> <div class="title p-1"> <i class="fa fa-book"></i> ROBOT NOTE </div> <div class="branch p-1"> <span class="name"> gh-pages </span> <i class="fa fa-caret-down"></i> </div> </div> <div class="addons d-flex flex-column height-full p-2 d-none"> <dl> <dt>GitHub</dt> <dd> <a href="https://github.com/whgdms1230/whgdms1230.github.io" title="Stars: 0"> <i class="fa fa-github"></i> Homepage </a> </dd> <dd> <a href="https://github.com/whgdms1230/whgdms1230.github.io/issues" title="Open issues: 0"> <i class="fa fa-question-circle-o"></i> Issues </a> </dd> <dd> <a href="https://github.com/whgdms1230/whgdms1230.github.io/zipball/gh-pages" title="Size: 5564 Kb"> <i class="fa fa-download"></i> Download </a> </dd> </dl> <hr> <div class="license f6 pb-2"> This <a href="/" title="ROBOT NOTE">Software</a> is under the terms of <a href="https://github.com/whgdms1230/whgdms1230.github.io">MIT License</a>. </div> </div> </div> <script src="https://cdn.jsdelivr.net/gh/rundocs/jekyll-rtd-theme@2.0.10/assets/js/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/gh/rundocs/jekyll-rtd-theme@2.0.10/assets/js/theme.min.js"></script> </body> </html>